<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>文档</title>
</head>
<body>
  <section id="nice" data-tool="markdown编辑器" data-website="https://markdown.com.cn/editor" style="font-size: 16px; color: black; padding: 25px 30px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: justify; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; margin-top: -10px;"><h2 data-tool="markdown.com.cn编辑器" style="margin-top: 30px; margin-bottom: 15px; font-weight: bold; color: black; font-size: 22px;"><span class="prefix" style="display: none;"></span><span class="content">SDK 使用说明</span><span class="suffix"></span></h2>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">该SDK以 openvidu 中的的 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; color: #1e6bb8; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all;">ready-to-use-component</code> 为基础，做了一些修改增加了与业务相关的逻辑。</p>
    <h2 data-tool="markdown.com.cn编辑器" style="margin-top: 30px; margin-bottom: 15px; font-weight: bold; color: black; font-size: 22px;"><span class="prefix" style="display: none;"></span><span class="content">ready-to-use component 原文档</span><span class="suffix"></span></h2>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">使用文档: https://docs.openvidu.io/en/2.29.0/ready-to-use-component/</p>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">API文档: https://docs.openvidu.io/en/2.29.0/api/openvidu-angular/components/OpenviduWebComponentComponent.html</p>
    <h2 data-tool="markdown.com.cn编辑器" style="margin-top: 30px; margin-bottom: 15px; font-weight: bold; color: black; font-size: 22px;"><span class="prefix" style="display: none;"></span><span class="content">改动点</span><span class="suffix"></span></h2>
    <ol data-tool="markdown.com.cn编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: decimal;">
    <li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">原组件是以 openvidu-browser 进行上层开发和构建的，但是并没有导出 openvidu-browser, 导致扩展能力有限。为此增加了全局 window.OpenVidu 对象的导出，window.OpenVidu 对应于 openvidu-browser 库</section></li></ol>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">openvidu-browser 使用介绍文档: https://docs.openvidu.io/en/2.29.0/cheatsheet/join-session/</p>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">openvidu-browser API 文档: https://docs.openvidu.io/en/2.29.0/api/openvidu-browser/</p>
    <ol start="2" data-tool="markdown.com.cn编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: decimal;">
    <li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">ready-to-use component 支持以旁观者模式接入会话</section></li></ol>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">具体的方法为</p>
    <section class="code-snippet__fix code-snippet__js" data-tool="markdown.com.cn编辑器" style="font-size: 14px; margin: 10px 0; display: block; color: #333; position: relative; background-color: rgba(0,0,0,0.03); border: 1px solid #f0f0f0; border-radius: 2px; display: flex; line-height: 20px; word-wrap: break-word !important;"><ul class="code-snippet__line-index code-snippet__js" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; counter-reset: line; flex-shrink: 0; height: 100%; padding: 1em; list-style-type: none; padding: 16px; margin: 0;"><li style="list-style-type: none; text-align: right; line-height: 26px; color: black; margin: 0;"><span style="min-width: 1.5em; text-align: right; left: -2.5em; counter-increment: line; display: inline; color: rgba(0,0,0,0.3);">ounter(line</span></li></ul><pre class="code-snippet__js" data-lang style="margin-bottom: 10px; margin-top: 0px; overflow-x: auto; padding: 16px; padding-left: 0; white-space: normal; flex: 1; -webkit-overflow-scrolling: touch;"><code style="border-radius: 0px; -webkit-overflow-scrolling: touch; text-align: left; font-size: 14px; display: block; white-space: pre; display: flex; position: relative; font-family: Consolas,'Liberation Mono',Menlo,Courier,monospace; padding: 0px;"><span class="code-snippet_outer" style="line-height: 26px;">session.connect(token, JSON.stringify({ role: 'SUBSCRIBER' }))</span></code></pre></section>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">第二个参数决定了当前是以旁观者模式接入</p>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">从旁观者模式转为参与者模式，需要先终止旁观模式，然后使用 ready-to-use component 的方式接入到会话中</p>
    <ol start="3" data-tool="markdown.com.cn编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: decimal;">
    <li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">资源本地化</section></li></ol>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">ready-to-use component 包含 JS 和 CSS 两部分，CSS 引用了谷歌字体，这里做了资源本地化</p>
    <h2 data-tool="markdown.com.cn编辑器" style="margin-top: 30px; margin-bottom: 15px; font-weight: bold; color: black; font-size: 22px;"><span class="prefix" style="display: none;"></span><span class="content">使用方法</span><span class="suffix"></span></h2>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">可以参考此 <a href="https://43.137.12.220/demo/" style="text-decoration: none; color: #1e6bb8; word-wrap: break-word; font-weight: bold; border-bottom: 1px solid #1e6bb8;">demo</a></p>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">核心逻辑可 <a href="https://github.com/qwertyyb/openvidu-call/blob/feature/subscriber/demo/app.js" style="text-decoration: none; color: #1e6bb8; word-wrap: break-word; font-weight: bold; border-bottom: 1px solid #1e6bb8;">参考代码</a></p>
    <h2 data-tool="markdown.com.cn编辑器" style="margin-top: 30px; margin-bottom: 15px; font-weight: bold; color: black; font-size: 22px;"><span class="prefix" style="display: none;"></span><span class="content">注意</span><span class="suffix"></span></h2>
    <p data-tool="markdown.com.cn编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">需要注意的是，对 sessionId 有要求，要求 sessionId 的格式为 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; color: #1e6bb8; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all;">${床号}-{任意字符}</code></p>
    </section>
</body>
</html>